{"version":3,"sources":["webpack:///src/page/confirmOrder/confirmOrder.vue","webpack:///./src/page/confirmOrder/confirmOrder.vue?71d9","webpack:///./src/page/confirmOrder/confirmOrder.vue","webpack:///./node_modules/core-js/library/fn/object/values.js","webpack:///./node_modules/core-js/library/modules/es7.object.values.js","webpack:///./node_modules/babel-runtime/core-js/object/values.js","webpack:///./node_modules/core-js/library/modules/_object-to-array.js"],"names":["confirmOrder","data","showLoading","checkoutData","totalAmount","shopCart","showPayWay","payWay","showAlert","alertText","created","this","INIT_BUYCART","cartList","mounted","initData","userInfo","member_id","components","headTop","head","alertTip","loading","computed","extends_default","Object","vuex_esm","storeSelected","choosedStore","store_id","remarklist","str","remarkText","values_default","forEach","item","inputText","substr","lastIndexOf","methods","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","newArr","wrap","_context","prev","next","categoryItem","itemValue","push","attrs","extra","id","name","price","quantity","num","sku_id","specs","stock","toFixed","stop","confrimOrder","_this2","_callee2","goodsData","orderRes","_context2","abrupt","goodsItem","initItem","goods_bn","getData","goods_data","pay_type","remark_text","input_text","sent","return_code","ORDER_SUCCESS","$router","return_msg","showPayWayFun","choosePayWay","watch","value","user_id","initAddress","confirmOrder_confirmOrder","render","_vm","_h","$createElement","_c","_self","staticClass","_e","head-title","goBack","signin-up","_v","to","path","xmlns:xlink","xlink:href","_s","store_name","tel","addr","_l","key","on","click","class","choose","$event","closeTip","mode","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","module","exports","values","$export","$values","S","it","default","__esModule","getKeys","toIObject","isEnum","f","isEntries","O","keys","length","i","result","call"],"mappings":"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","file":"static/js/4.59038a3d911995ebe135.js","sourcesContent":["<template>\n  <div class=\"confirmOrderContainer\">\n    <section v-if=\"!showLoading\">\n      <head-top head-title=\"确认订单\" goBack=\"true\" signin-up='confirmOrder'></head-top>\n      <router-link :to='{path: \"/confirmOrder/stores\"}' class=\"store_container\">\n        <div class=\"store_empty_left\">\n          <svg class=\"location_icon\">\n            <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#location\"></use>\n          </svg>\n          <div class=\"add_store\" v-if=\"!storeSelected\">请选择自提门店</div>\n          <div v-else class=\"store_detail_container\">\n            <header>\n              <span>{{choosedStore.store_name}}</span>\n              <span>{{choosedStore.tel}}</span>\n            </header>\n            <div class=\"store_detail\">\n              <p>{{choosedStore.addr}}</p>\n            </div>\n          </div>\n        </div>\n        <svg class=\"store_empty_right\">\n          <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#arrow-right\"></use>\n        </svg>\n      </router-link>\n      <section class=\"food_list\">\n        <ul class=\"food_list_ul\" v-if=\"shopCart\">\n          <li v-for=\"item in checkoutData\" :key=\"item.sku_id\" class=\"food_item_style\">\n            <p class=\"food_name ellipsis\">{{item.name}}</p>\n            <div class=\"num_price\">\n              <span>x {{item.quantity}}</span>\n              <span>¥{{item.price}}</span>\n            </div>\n          </li>\n        </ul>\n        <div class=\"food_item_style total_price\">\n          <p class=\"food_name ellipsis\">订单 ¥{{totalAmount}}</p>\n          <div class=\"num_price\">\n            <span>待支付 ¥{{totalAmount}}</span>\n          </div>\n        </div>\n      </section>\n      <section class=\"pay_way container_style\">\n        <header class=\"header_style\">\n          <span>支付方式</span>\n          <div class=\"more_type\" @click=\"showPayWayFun\">\n            <span>{{payWay === 'online' ? '在线支付' : '现金支付'}}</span>\n            <svg class=\"address_empty_right\">\n              <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#arrow-right\"></use>\n            </svg>\n          </div>\n        </header>\n      </section>\n      <section class=\"pay_way container_style\">\n        <router-link :to='{path: \"/confirmOrder/remark\"}' class=\"header_style\">\n          <span>备注</span>\n          <div class=\"more_type\">\n            <span class=\"ellipsis\">{{remarkText||inputText? remarklist: '口味、偏好等'}}</span>\n            <svg class=\"address_empty_right\">\n              <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#arrow-right\"></use>\n            </svg>\n          </div>\n        </router-link>\n      </section>\n      <section class=\"confrim_order\">\n        <p>待支付 ¥{{totalAmount}}</p>\n        <p @click=\"confrimOrder\">确认下单</p>\n      </section>\n      <transition name=\"fade\">\n        <div class=\"cover\" v-if=\"showPayWay\" @click=\"showPayWayFun\"></div>\n      </transition>\n      <transition name=\"slid_up\">\n        <div class=\"choose_type_Container\" v-if=\"showPayWay\">\n          <header>支付方式</header>\n          <ul>\n            <li :class=\"{choose: payWay == 'offline'}\">\n              <span>现金支付</span>\n              <svg class=\"address_empty_right\" @click=\"choosePayWay('offline')\">\n                <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#select\"></use>\n              </svg>\n            </li>\n            <li :class=\"{choose: payWay == 'online'}\">\n              <span>在线支付</span>\n              <svg class=\"address_empty_right\" @click=\"choosePayWay('online')\">\n                <use xmlns:xlink=\"http://www.w3.org/1999/xlink\" xlink:href=\"#select\"></use>\n              </svg>\n            </li>\n          </ul>\n        </div>\n      </transition>\n    </section>\n    <loading v-if=\"showLoading\"></loading>\n    <alert-tip v-if=\"showAlert\" @closeTip=\"showAlert = false\" :alertText=\"alertText\"></alert-tip>\n    <transition name=\"router-slid\" mode=\"out-in\">\n      <router-view></router-view>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport {mapState, mapMutations} from 'vuex'\nimport headTop from '../../components/header/head'\nimport alertTip from '../../components/common/alertTip'\nimport loading from '../../components/common/loading'\nimport { createOrder } from '../../service/getData'\n\nexport default {\n  data () {\n    return {\n      showLoading: true, // 显示加载动画\n      checkoutData: null, // 数据返回值\n      totalAmount: null, // 订单总额\n      shopCart: null, // 购物车数据\n      showPayWay: false, // 显示付款方式\n      payWay: 'online', // 付款方式\n      showAlert: false, // 弹出框\n      alertText: null // 弹出框内容\n    }\n  },\n  created () {\n    this.INIT_BUYCART()\n    // 获取当前商铺购物车信息\n    this.shopCart = this.cartList\n  },\n  mounted () {\n    this.initData()\n    if (!(this.userInfo && this.userInfo.member_id)) {\n      // this.showAlert = true;\n      // this.alertText = '您还没有登录';\n    }\n  },\n  components: {\n    headTop,\n    alertTip,\n    loading\n  },\n  computed: {\n    ...mapState([\n      'cartList', 'remarkText', 'inputText', 'userInfo', 'choosedStore'\n    ]),\n    storeSelected: function () {\n      return !!(this.choosedStore && this.choosedStore.store_id)\n    },\n    // 备注页返回的信息进行处理\n    remarklist: function () {\n      let str = ''\n      if (this.remarkText) {\n        Object.values(this.remarkText).forEach(item => {\n          str += item[1] + '，'\n        })\n      }\n      // 是否有自定义备注，分开处理\n      if (this.inputText) {\n        return str + this.inputText\n      } else {\n        return str.substr(0, str.lastIndexOf('，'))\n      }\n    }\n  },\n  methods: {\n    ...mapMutations([\n      'INIT_BUYCART', 'SAVE_ORDER_PARAM', 'ORDER_SUCCESS'\n    ]),\n    // 初始化数据\n    async initData () {\n      let newArr = []\n      let totalAmount = 0\n      Object.values(this.shopCart).forEach(categoryItem => {\n        Object.values(categoryItem).forEach(itemValue => {\n          Object.values(itemValue).forEach(item => {\n            newArr.push({\n              attrs: [],\n              extra: {},\n              id: item.id,\n              name: item.name,\n              price: item.price,\n              quantity: item.num,\n              sku_id: item.sku_id,\n              specs: [item.specs],\n              stock: item.stock\n            })\n            totalAmount += item.num * item.price\n          })\n        })\n      })\n      this.checkoutData = newArr\n      this.totalAmount = totalAmount.toFixed(2)\n      this.showLoading = false\n    },\n    // 确认订单\n    async confrimOrder () {\n      // 用户未登录时弹出提示框\n      // if (!(this.userInfo && this.userInfo.member_id)) {\n      //   this.showAlert = true\n      //   this.alertText = '请登录'\n      //   return\n      // } else if (!this.choosedStore) {\n      if (!this.choosedStore) {\n        this.showAlert = true\n        this.alertText = '请选择自提门店'\n        return\n      } else if (!this.checkoutData) {\n        this.showAlert = true\n        this.alertText = '购物车为空'\n        return\n      }\n      // 格式化购物车信息\n      let goodsData = []\n      this.checkoutData.forEach(goodsItem => {\n        let initItem = {}\n        initItem.goods_bn = goodsItem.sku_id\n        initItem.num = goodsItem.quantity\n        goodsData.push(initItem)\n      })\n      // 发送订单信息\n      let orderRes = await createOrder({\n        store_id: this.choosedStore.store_id,\n        goods_data: goodsData,\n        pay_type: this.payWay,\n        remark_text: this.remarkText,\n        input_text: this.inputText\n      })\n      if (orderRes.return_code === '0000') {\n        this.ORDER_SUCCESS(orderRes.data)\n        this.$router.push('/confirmOrder/payment')\n      } else {\n        this.showAlert = true\n        this.alertText = orderRes.return_msg\n        return false\n      }\n    },\n    // 显示付款方式\n    showPayWayFun () {\n      this.showPayWay = !this.showPayWay\n    },\n    // 选择付款方式\n    choosePayWay (payWay) {\n      this.showPayWay = !this.showPayWay\n      this.payWay = payWay\n    }\n  },\n  watch: {\n    userInfo: function (value) {\n      if (value && value.user_id) {\n        this.initAddress()\n      }\n    }\n  }\n}\n\n</script>\n\n<style lang=\"scss\" scoped>\n  @import '../../assets/css/mixin';\n\n  .confirmOrderContainer{\n    padding-top: 1.95rem;\n    padding-bottom: 3rem;\n    p, span{\n      font-family: Helvetica Neue,Tahoma,Arial;\n    }\n  }\n  .container_style{\n    background-color: #fff;\n    margin-top: .4rem;\n    padding: 0 .7rem;\n  }\n  .store_container{\n    min-height: 3.5rem;\n    @include fj;\n    align-items: center;\n    padding: 0 0.6rem;\n    background: url(../../assets/images/address_bottom.png) left bottom repeat-x;\n    background-color: #fff;\n    background-size: auto .12rem;\n    .store_empty_left{\n      display: flex;\n      align-items: center;\n      .location_icon{\n        @include wh(.8rem, .8rem);\n        fill: $blue;\n        margin-right: .2rem;\n      }\n      .add_store{\n        @include sc(.7rem, #333);\n      }\n      .store_detail_container{\n        margin-left: .2rem;\n        header{\n          @include sc(.65rem, #333);\n          span:nth-of-type(1){\n            font-size: .8rem;\n            font-weight: bold;\n          }\n        }\n        .store_detail{\n          width: 100%;\n          display: flex;\n          align-items: center;\n          span{\n            @include sc(.5rem, #fff);\n            border-radius: .15rem;\n            background-color: #ff5722;\n            height: .6rem;\n            line-height: .6rem;\n            padding: 0 .2rem;\n            margin-right: .3rem;\n          }\n          p{\n            @include sc(.55rem, #777);\n          }\n        }\n      }\n    }\n  }\n  .store_empty_right{\n    @include wh(.6rem, .6rem);\n    fill: #999;\n  }\n  .pay_way{\n    .header_style{\n      @include fj;\n      line-height: 2rem;\n      span:nth-of-type(1){\n        @include sc(.7rem, #666);\n      }\n      .more_type{\n        span:nth-of-type(1){\n          @include sc(.6rem, #aaa);\n          width: 10rem;\n          display: inline-block;\n          text-align: right;\n          vertical-align: middle;\n        }\n        svg{\n          @include wh(.5rem, .5rem);\n          fill: #ccc;\n        }\n      }\n    }\n    .hongbo{\n      @include fj;\n      border-top: 0.025rem solid #f5f5f5;\n      span{\n        @include sc(.6rem, #aaa);\n        line-height: 2rem;\n        svg{\n          @include wh(.5rem, .5rem);\n          vertical-align: middle;\n          fill: #ccc;\n        }\n      }\n      span:nth-of-type(2){\n        color: #aaa;\n      }\n    }\n    .support_is_available{\n      span{\n        color: #666;\n      }\n    }\n  }\n  .food_list{\n    background-color: #fff;\n    margin-top: .4rem;\n    header{\n      padding: .7rem;\n      border-bottom: 0.025rem solid #f5f5f5;\n      img{\n        @include wh(1.2rem, 1.2rem);\n        vertical-align: middle;\n      }\n      span{\n        @include sc(.8rem, #333);\n      }\n    }\n    .food_list_ul{\n      padding-top: .5rem;\n    }\n    .food_item_style{\n      @include fj;\n      line-height: 1.8rem;\n      padding: 0 .7rem;\n      span,p{\n        @include sc(.65rem, #666);\n      }\n      .food_name{\n        width: 11rem;\n      }\n      .num_price{\n        flex: 1;\n        @include fj;\n        align-items: center;\n        span:nth-of-type(1){\n          color: #f60;\n        }\n      }\n    }\n    .total_price{\n      border-top: 0.025rem solid #f5f5f5;\n    }\n  }\n  .confrim_order{\n    display: flex;\n    position: fixed;\n    bottom: 0;\n    width: 100%;\n    height: 2rem;\n    p{\n      line-height: 2rem;\n      @include sc(.75rem, #fff);\n    }\n    p:nth-of-type(1){\n      background-color: #3c3c3c;\n      flex: 5;\n      padding-left: .7rem;\n    }\n    p:nth-of-type(2){\n      flex: 2;\n      background-color: #56d176;\n      text-align: center;\n    }\n  }\n  .cover{\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-color: rgba(0,0,0,.3);\n    z-index: 203;\n  }\n  .choose_type_Container{\n    min-height: 10rem;\n    background-color: #fff;\n    position: fixed;\n    bottom: 0;\n    width: 100%;\n    z-index: 204;\n    header{\n      background-color: #fafafa;\n      @include sc(.7rem, #333);\n      text-align: center;\n      line-height: 2rem;\n    }\n    ul{\n      li{\n        @include fj;\n        padding: 0 .7rem;\n        line-height: 2.5rem;\n        align-items: center;\n        span{\n          @include sc(.7rem, #ccc);\n        }\n        svg{\n          @include wh(.8rem, .8rem);\n          fill: #eee;\n        }\n      }\n      .choose{\n        span{\n          color: #333;\n        }\n        svg{\n          fill: #4cd964;\n        }\n      }\n    }\n  }\n  .fade-enter-active, .fade-leave-active {\n    transition: opacity .3s;\n  }\n  .fade-enter, .fade-leave-active {\n    opacity: 0;\n  }\n  .slid_up-enter-active, .slid_up-leave-active {\n    transition: all .3s;\n  }\n  .slid_up-enter, .slid_up-leave-active {\n    transform: translate3d(0,10rem,0)\n  }\n  .router-slid-enter-active, .router-slid-leave-active {\n    transition: all .4s;\n  }\n  .router-slid-enter, .router-slid-leave-active {\n    transform: translate3d(2rem, 0, 0);\n    opacity: 0;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/page/confirmOrder/confirmOrder.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"confirmOrderContainer\"},[(!_vm.showLoading)?_c('section',[_c('head-top',{attrs:{\"head-title\":\"确认订单\",\"goBack\":\"true\",\"signin-up\":\"confirmOrder\"}}),_vm._v(\" \"),_c('router-link',{staticClass:\"store_container\",attrs:{\"to\":{path: \"/confirmOrder/stores\"}}},[_c('div',{staticClass:\"store_empty_left\"},[_c('svg',{staticClass:\"location_icon\"},[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#location\"}})]),_vm._v(\" \"),(!_vm.storeSelected)?_c('div',{staticClass:\"add_store\"},[_vm._v(\"请选择自提门店\")]):_c('div',{staticClass:\"store_detail_container\"},[_c('header',[_c('span',[_vm._v(_vm._s(_vm.choosedStore.store_name))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.choosedStore.tel))])]),_vm._v(\" \"),_c('div',{staticClass:\"store_detail\"},[_c('p',[_vm._v(_vm._s(_vm.choosedStore.addr))])])])]),_vm._v(\" \"),_c('svg',{staticClass:\"store_empty_right\"},[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#arrow-right\"}})])]),_vm._v(\" \"),_c('section',{staticClass:\"food_list\"},[(_vm.shopCart)?_c('ul',{staticClass:\"food_list_ul\"},_vm._l((_vm.checkoutData),function(item){return _c('li',{key:item.sku_id,staticClass:\"food_item_style\"},[_c('p',{staticClass:\"food_name ellipsis\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('div',{staticClass:\"num_price\"},[_c('span',[_vm._v(\"x \"+_vm._s(item.quantity))]),_vm._v(\" \"),_c('span',[_vm._v(\"¥\"+_vm._s(item.price))])])])})):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"food_item_style total_price\"},[_c('p',{staticClass:\"food_name ellipsis\"},[_vm._v(\"订单 ¥\"+_vm._s(_vm.totalAmount))]),_vm._v(\" \"),_c('div',{staticClass:\"num_price\"},[_c('span',[_vm._v(\"待支付 ¥\"+_vm._s(_vm.totalAmount))])])])]),_vm._v(\" \"),_c('section',{staticClass:\"pay_way container_style\"},[_c('header',{staticClass:\"header_style\"},[_c('span',[_vm._v(\"支付方式\")]),_vm._v(\" \"),_c('div',{staticClass:\"more_type\",on:{\"click\":_vm.showPayWayFun}},[_c('span',[_vm._v(_vm._s(_vm.payWay === 'online' ? '在线支付' : '现金支付'))]),_vm._v(\" \"),_c('svg',{staticClass:\"address_empty_right\"},[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#arrow-right\"}})])])])]),_vm._v(\" \"),_c('section',{staticClass:\"pay_way container_style\"},[_c('router-link',{staticClass:\"header_style\",attrs:{\"to\":{path: \"/confirmOrder/remark\"}}},[_c('span',[_vm._v(\"备注\")]),_vm._v(\" \"),_c('div',{staticClass:\"more_type\"},[_c('span',{staticClass:\"ellipsis\"},[_vm._v(_vm._s(_vm.remarkText||_vm.inputText? _vm.remarklist: '口味、偏好等'))]),_vm._v(\" \"),_c('svg',{staticClass:\"address_empty_right\"},[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#arrow-right\"}})])])])],1),_vm._v(\" \"),_c('section',{staticClass:\"confrim_order\"},[_c('p',[_vm._v(\"待支付 ¥\"+_vm._s(_vm.totalAmount))]),_vm._v(\" \"),_c('p',{on:{\"click\":_vm.confrimOrder}},[_vm._v(\"确认下单\")])]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.showPayWay)?_c('div',{staticClass:\"cover\",on:{\"click\":_vm.showPayWayFun}}):_vm._e()]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"slid_up\"}},[(_vm.showPayWay)?_c('div',{staticClass:\"choose_type_Container\"},[_c('header',[_vm._v(\"支付方式\")]),_vm._v(\" \"),_c('ul',[_c('li',{class:{choose: _vm.payWay == 'offline'}},[_c('span',[_vm._v(\"现金支付\")]),_vm._v(\" \"),_c('svg',{staticClass:\"address_empty_right\",on:{\"click\":function($event){_vm.choosePayWay('offline')}}},[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#select\"}})])]),_vm._v(\" \"),_c('li',{class:{choose: _vm.payWay == 'online'}},[_c('span',[_vm._v(\"在线支付\")]),_vm._v(\" \"),_c('svg',{staticClass:\"address_empty_right\",on:{\"click\":function($event){_vm.choosePayWay('online')}}},[_c('use',{attrs:{\"xmlns:xlink\":\"http://www.w3.org/1999/xlink\",\"xlink:href\":\"#select\"}})])])])]):_vm._e()])],1):_vm._e(),_vm._v(\" \"),(_vm.showLoading)?_c('loading'):_vm._e(),_vm._v(\" \"),(_vm.showAlert)?_c('alert-tip',{attrs:{\"alertText\":_vm.alertText},on:{\"closeTip\":function($event){_vm.showAlert = false}}}):_vm._e(),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"router-slid\",\"mode\":\"out-in\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f9d13858\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/confirmOrder/confirmOrder.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f9d13858\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./confirmOrder.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./confirmOrder.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./confirmOrder.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f9d13858\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./confirmOrder.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-f9d13858\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/confirmOrder/confirmOrder.vue\n// module id = null\n// module chunks = ","require('../../modules/es7.object.values');\nmodule.exports = require('../../modules/_core').Object.values;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/values.js\n// module id = TmV0\n// module chunks = 1 4","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es7.object.values.js\n// module id = fZOM\n// module chunks = 1 4","module.exports = { \"default\": require(\"core-js/library/fn/object/values\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/values.js\n// module id = gRE1\n// module chunks = 1 4","var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) if (isEnum.call(O, key = keys[i++])) {\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-to-array.js\n// module id = mbce\n// module chunks = 1 4"],"sourceRoot":""}